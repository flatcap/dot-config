#!/bin/bash

COL=""

function add_col()
{
	[ -z "$1" ] && return

	[ -n "$COL" ] && COL="$COL;"

	COL="$COL$1"
}

function read_col()
{
	[ -z "$1" ] && return

	case $1 in
		red)       add_col "1;31" ;;
		green)     add_col "1;32" ;;
		yellow)    add_col "1;33" ;;
		blue)      add_col "1;34" ;;
		magenta)   add_col "1;35" ;;
		cyan)      add_col "1;36" ;;
		grey)      add_col "1;30" ;;
		black)     add_col "0;30" ;;
		underline) add_col "4"    ;;
		reverse)   add_col "7"    ;;
		*)         ;;
	esac
}


NAME="${0##*/}"

if [ "$NAME" = "gg" ]; then
	while [ $# -gt 1 ]; do
		read_col $1
		shift
	done
else
	read_col $NAME
fi

GREP_COLORS="ms=$COL" exec grep --line-buffered --color=yes -e "$1" -e "$"

